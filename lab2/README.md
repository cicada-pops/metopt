# Краткое руководство по использованию

## Быстрый старт

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Тестирование без визуализации

```bash
python test_run.py
```

### 3. Запуск с визуализацией

```bash
python main.py
```

## Примеры использования

### Пример 1: Функция из библиотеки

```python
from global_optimization import LipschitzOptimizer
from test_functions import get_function
from visualization import plot_optimization_results, print_results

# Получение функции Растригина
func, range_func, description = get_function('rastrigin')
a, b = range_func()

# Оптимизация
optimizer = LipschitzOptimizer(func, a, b, eps=0.01)
result = optimizer.optimize()

# Вывод результатов
print_results(result)
plot_optimization_results(func, result, a, b, description)
```

### Пример 2: Собственная функция (через строку)

```python
from main import run_optimization_from_string

# Запуск оптимизации
run_optimization_from_string('x + sin(3.14159*x)', -10, 10, eps=0.01)
```

### Пример 3: Собственная функция (через функцию)

```python
import numpy as np
from global_optimization import LipschitzOptimizer
from visualization import plot_optimization_results, print_results

# Определение функции
def my_function(x):
    return x**2 + np.sin(5*x)

# Оптимизация
optimizer = LipschitzOptimizer(my_function, -5, 5, eps=0.01)
result = optimizer.optimize()

# Вывод результатов
print_results(result)
plot_optimization_results(my_function, result, -5, 5, "Моя функция")
```

## Доступные тестовые функции

- `rastrigin` - Функция Растригина (множество локальных минимумов)
- `ackley` - Функция Экли (множество локальных минимумов)
- `griewank` - Функция Гриванка
- `schwefel` - Функция Швефеля
- `multimodal1` - x + sin(πx)
- `multimodal2` - sin(x) + sin(10x/3)
- `shubert` - Функция Шуберта
- `levy` - Функция Леви

## Структура результатов

Метод `optimize()` возвращает словарь:

```python
{
    'x_min': 0.0,              # Приближенное значение аргумента
    'f_min': 0.0,              # Приближенное значение функции
    'iterations': 40,          # Количество итераций
    'time': 0.004179,          # Затраченное время (сек)
    'points': [...],           # Все испытанные точки
    'values': [...],           # Значения функции в точках
    'lipschitz_constant': 79.8 # Оценка константы Липшица
}
```

## Визуализация

Программа создает два графика:

1. **График 1**: Исходная функция и испытанные точки

   - Синяя линия: исходная функция
   - Зеленые точки: испытанные точки
   - Оранжевая штрих-пунктирная линия: нижние ломаные оценки
   - Красная звезда: найденный минимум

2. **График 2**: Оценочная функция
   - Синяя линия: исходная функция
   - Зеленая пунктирная линия: оценочная функция (ломаная)
   - Оранжевая штрих-пунктирная линия: нижние ломаные оценки
   - Голубая линия: последовательность испытаний
   - Красная звезда: найденный минимум

## Настройка точности

Параметр `eps` определяет точность поиска:

- `eps=0.1` - низкая точность (быстро, мало итераций)
- `eps=0.01` - средняя точность (рекомендуется)
- `eps=0.001` - высокая точность (медленно, много итераций)

## Поддерживаемые математические функции

При вводе функций строкой можно использовать:

- `sin`, `cos`, `tan` - тригонометрические функции
- `exp`, `log` - экспонента и логарифм
- `sqrt` - квадратный корень
- `abs` - модуль
- `pi`, `e` - константы π и e
- `+`, `-`, `*`, `/`, `**` - арифметические операции

Примеры:

- `x**2 + sin(x)`
- `exp(-x**2) * cos(2*pi*x)`
- `abs(x) + sqrt(abs(x))`

## Требования к функции

Функция должна быть **липшицевой** на заданном отрезке, т.е. существует константа L такая, что:

```
|f(x₁) - f(x₂)| ≤ L * |x₁ - x₂|
```

Примеры липшицевых функций:

- Многочлены
- Тригонометрические функции
- Комбинации гладких функций

Примеры нелипшицевых функций:

- `1/x` (разрыв)
- `tan(x)` на отрезке с π/2

## Интерактивный режим

Для запуска интерактивного меню раскомментируйте в `main.py`:

```python
if __name__ == "__main__":
    main()  # Вместо примеров
```

Затем выполните:

```bash
python main.py
```
